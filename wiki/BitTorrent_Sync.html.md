BitTorrent Sync
===============

BitTorrent Sync (BTSync) is a file sharing system that relies on the
BitTorrent protocol, and differs from other file sharing software in the
connection type between devices. Instead of uploading the files to an
online server, and then each device fetching them from the server
itself, the file transfer is done directly from peer to peer, and
therefore there is no limit on data storage and/or transfer speed.

Contents
--------

-   1 Security
-   2 Secrets
-   3 Synchronization
-   4 Installation
-   5 Usage
-   6 Configuration
    -   6.1 Automatic config file creation
-   7 Troubleshooting
    -   7.1 Missing storage path
    -   7.2 WebUI is not running on port 8888
    -   7.3 WebUI is not running on 7889 + $UID
    -   7.4 Ignore some files/folders syncronization
-   8 See Also

Security
--------

BitTorrent Sync encrypts the traffic between devices with AES cypher and
a 256-bit key created on the base of the secret â€” a random string (20
bytes or more) that is unique for every folder to be synchronized.

Secrets
-------

BitTorrent Sync uses a specific method for folder sharing, the 'secret':
a random 21-byte key Base32-encoded.

Synchronization
---------------

When a device adds a folder for synchronization, a secret is generated.
From now on, every device that wants to synchronize that folder must
know the secret key.

The synchronization has no speed or size limits, as long as both devices
have enough disk space.

Installation
------------

btsync can be installed from the AUR. The package includes systemd
service definitions for managing the btsync daemon. This package creates
a default /etc/btsync.conf for system/root operation. Before enabling
with systemctl review this file and make desired changes, e.g. to the
login id and password.

Alternatively, the bare 'tar.gz' packaged executable is downloadable
from the official website. The rest of this guide assumes that you are
using the btsync AUR package.

Usage
-----

The Linux client of BTSync does not use a typical GUI, instead it sets
up a WebUI server accessible at localhost:8888. Shared folders can also
be configured statically in a configuration file, but doing so disables
the WebGUI.

Once installed, you'll first need to create a configuration file at
~/.config/btsync/btsync.conf, see #Configuration. When that is done,
start and (if you want it to start on boot) enable the service:

    # systemctl start btsync@user
    # systemctl enable btsync@user

replacing user by the desired username. The service will run as the
named user.

You can also run it as the btsync system user, just leave the @user part
out:

    # systemctl enable btsync
    # systemctl start btsync

Configuration for this user is located at /etc/btsync.conf, and metadata
is saved in /var/lib/btsync/ by default. You should review the
configuration settings especially user and password, see below.

Configuration
-------------

A sample configuration file can be created using
btsync --dump-sample-config. You'll probably want to change some of the
settings, including:

-   device_name
-   storage_path
-   webui/login
-   webui/password

Note:The storage_path setting defines where metadata will be saved, not
the synced files themselves. Where synced files are saved is configured
on a per-folder basis in the WebGUI.

> Automatic config file creation

The btsync-autoconfig package provides a systemd service
(btsync-autoconfig@user.service) that, if enabled, triggers when
btsync@user.service starts and creates a config file with default values
if it does not already exist. The install script enables
btsync-autoconfig@user.service by default.

btsync-autoconfig@user.service creates ~/.config/btsync/btsync.conf if
it does not exist, and guesses some default values of the settings:

-   device_name: $USER@$HOSTNAME
-   storage_path: ~/.btsync
-   webui/login: $USER/password

Troubleshooting
---------------

> Missing storage path

If you start the service but can't reach the WebUI, check the status of
the btsync by entering systemctl status btsync@user.

A common error is Storage path specified in config file does not exist..
btsync-autoconfig does generate a config file, but not the storage
directory, do so by entering e.g. mkdir ~/.btsync.

> WebUI is not running on port 8888

If the config file was generated by btsync-autoconfig it will be
configured with a different port. Rather than 8888, the port for the
user's instance of btsync will be 7889 + $UID. If your $UID is "1000",
the port will be 8889.

> WebUI is not running on 7889 + $UID

The btsync-autoconfig does not create $HOME/.btsync directory. This will
cause the start up to fail.

> Ignore some files/folders syncronization

If you have files in your sync folder that you don't want BitTorrent
Sync to track, you can use .SyncIgnore. .SyncIgnore is a UTF-8 encoded
.txt file that helps you specify single files, paths and rules for
ignoring during the synchronization job. It supports '?' and '*'
wildcard symbols.

Note that .SyncIgnore is applied only to the folder where it is
contained and will not work with the files that have already been
synced. If you add indexed files to .SyncIgnore, they will be deleted on
other syncing devices. In order to avoid this:

-   Remove the folder from sync on all the devices.
-   Modify .SyncIgnore file on all of them so that it contains same
    info.
-   Re-add the modified folders.

See Also
--------

Official BitTorrent Sync FAQ

Retrieved from
"https://wiki.archlinux.org/index.php?title=BitTorrent_Sync&oldid=306097"

Category:

-   Internet applications

-   This page was last modified on 20 March 2014, at 17:41.
-   Content is available under GNU Free Documentation License 1.3 or
    later unless otherwise noted.
-   Privacy policy
-   About ArchWiki
-   Disclaimers
